const sTermInfo = [0, 21208, 42467, 63836, 85337, 107014, 128867, 150921, 173149, 195551, 218072, 240693, 263343, 285989, 308563, 331033, 353350, 375494, 397447, 419210, 440795, 462224, 483532, 504758];
const solarTerm = ["小寒", "大寒", "立春", "雨水", "惊蛰", "春分", "清明", "谷雨", "立夏", "小满", "芒种", "夏至", "小暑", "大暑", "立秋", "处暑", "白露", "秋分", "寒露", "霜降", "立冬", "小雪", "大雪", "冬至"];

function getDaySolarTerm(yyyy, mm, dd) {
  mm = mm - 1;
  let solarTerms = "";
//　　此方法是获取该日期是否为某节气
//    var tmp1 = new Date((31556925974.7*(yyyy-1900)+sTermInfo[mm*2+1]*60000)+Date.UTC(1900,0,6,2,5));
//    var tmp2 = tmp1.getUTCDate();
//    if (tmp2==dd)
//        solarTerms = solarTerm[mm*2+1];
//    console.log(solarTerms);
//    tmp1 = new Date((31556925974.7*(yyyy-1900)+sTermInfo[mm*2]*60000)+Date.UTC(1900,0,6,2,5));
//    tmp2= tmp1.getUTCDate();
//    if (tmp2==dd)
//        solarTerms = solarTerm[mm*2];

//　　此方法可以获取该日期处于某节气
  while (solarTerms === "") {
    let tmp1 = new Date((31556925974.7 * (yyyy - 1900) + sTermInfo[mm * 2 + 1] * 60000) + Date.UTC(1900, 0, 6, 2, 5));
    let tmp2 = tmp1.getUTCDate();
    if (tmp2 === dd) solarTerms = solarTerm[mm * 2 + 1];
    tmp1 = new Date((31556925974.7 * (yyyy - 1900) + sTermInfo[mm * 2] * 60000) + Date.UTC(1900, 0, 6, 2, 5));
    tmp2 = tmp1.getUTCDate();
    if (tmp2 === dd) solarTerms = solarTerm[mm * 2];
    if (dd > 1) {
      dd = dd - 1;
    } else {
      mm = mm - 1;
      if (mm < 0) {
        yyyy = yyyy - 1;
        mm = 11;
      }
      dd = 31;
    }
  }
  return solarTerms;
}

console.log(getDaySolarTerm(2021, 12, 22))

function getYearSolarTerm(yyyy) {
  let solarTerms = {}
  for (let n = 0; n < 24; n++) {
    let days = new Date((31556925974.7 * (yyyy - 1900) + sTermInfo[n] * 60000) + Date.UTC(1900, 0, 6, 2, 5))
    days = days.getFullYear() + "-" + (days.getMonth() + 1) + "-" + days.getUTCDate();
    solarTerms[days] = solarTerm[n]
  }
  return solarTerms
}

console.log(getYearSolarTerm(2018))

let aaa = {
  "2020-10-6": "休",
  "2020-10-7": "休",
  "2020-10-8": "休",
  "2020-2-1": "休",
  "2020-2-2": "休",
  "2020-4-26": "班",
  "2020-4-4": "清明",
  "2020-4-5": "休",
  "2020-4-6": "休",
  "2020-5-1": "劳动节",
  "2020-5-2": "休",
  "2020-5-3": "休",
  "2020-5-4": "休",
  "2020-5-5": "休",
  "2020-5-9": "班",
  "2020-6-25": "端午",
  "2020-6-26": "休",
  "2020-6-27": "休",
  "2020-6-28": "班",
  "2020-9-27": "班",
  "2021-1-1": "元旦",
  "2021-1-2": "休",
  "2021-1-3": "休",
  "2021-10-1": "国庆节",
  "2021-10-2": "休",
  "2021-10-3": "休",
  "2021-10-4": "休",
  "2021-10-5": "休",
  "2021-10-6": "休",
  "2021-10-7": "休",
  "2021-10-9": "班",
  "2021-2-11": "除夕",
  "2021-2-12": "春节",
  "2021-2-13": "休",
  "2021-2-14": "休",
  "2021-2-15": "休",
  "2021-2-16": "休",
  "2021-2-17": "休",
  "2021-2-20": "班",
  "2021-2-7": "班",
  "2021-4-25": "班",
  "2021-4-3": "休",
  "2021-4-4": "清明",
  "2021-4-5": "休",
  "2021-5-1": "劳动节",
  "2021-5-2": "休",
  "2021-5-3": "休",
  "2021-5-4": "休",
  "2021-5-5": "休",
  "2021-5-8": "班",
  "2021-6-12": "休",
  "2021-6-13": "休",
  "2021-6-14": "端午",
  "2021-9-18": "班",
  "2021-9-19": "休",
  "2021-9-20": "休",
  "2021-9-21": "中秋",
  "2021-9-26": "班",
  "2022-1-1": "元旦",
  "2022-1-2": "休",
  "2022-1-29": "班",
  "2022-1-3": "休",
  "2022-1-30": "班",
  "2022-1-31": "除夕",
  "2022-10-1": "国庆节",
  "2022-10-2": "休",
  "2022-10-3": "休",
  "2022-10-4": "休",
  "2022-10-5": "休",
  "2022-10-6": "休",
  "2022-10-7": "休",
  "2022-10-8": "班",
  "2022-10-9": "班",
  "2022-2-1": "春节",
  "2022-2-2": "休",
  "2022-2-3": "休",
  "2022-2-4": "休",
  "2022-2-5": "休",
  "2022-2-6": "休",
  "2022-4-2": "班",
  "2022-4-3": "休",
  "2022-4-30": "休",
  "2022-4-4": "休",
  "2022-4-5": "清明",
  "2022-5-1": "劳动节",
  "2022-5-2": "休",
  "2022-5-3": "休",
  "2022-5-4": "休",
  "2022-6-3": "端午",
  "2022-6-4": "休",
  "2022-6-5": "休",
  "2022-9-10": "中秋",
  "2022-9-11": "休",
  "2022-9-12": "休",

  "2023-1-1": "元旦",
  "2023-1-21": "除夕",
  "2023-1-22": "春节",
  "2023-10-1": "国庆节",
  "2023-4-5": "清明",
  "2023-5-1": "劳动节",
  "2023-6-22": "端午",
  "2023-9-29": "中秋",

  "2024-1-1": "元旦",
  "2024-10-1": "国庆节",
  "2024-2-10": "春节",
  "2024-2-9": "除夕",
  "2024-4-4": "清明",
  "2024-5-1": "劳动节",
  "2024-6-10": "端午",
  "2024-9-17": "中秋",

  "2025-1-1": "元旦",
  "2025-1-28": "除夕",
  "2025-1-29": "春节",
  "2025-10-1": "国庆节",
  "2025-10-6": "中秋",
  "2025-4-4": "清明",
  "2025-5-1": "劳动节",
  "2025-5-31": "端午"
}